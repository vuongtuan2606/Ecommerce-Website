<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:fragment="html_head(pageTitle)">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- Document Title -->
    <title>[[${pageTitle}]]</title>

    <!-- Favicon -->
    <link rel="shortcut icon" type="image/png" href="favicon.png">

    <!-- CSS Files -->
    <!--==== Google Fonts ====-->
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,900%7CRoboto+Condensed:300,400,700" rel="stylesheet">

    <!--==== Bootstrap css file ====-->
    <link  th:href="@{/assets/css/bootstrap.min.css}" rel="stylesheet">

    <!-- Liên kết tới Font Awesome từ CDN -->
    <link  th:href="@{/assets/css/font-awesome.min.css}" rel="stylesheet">

    <!-- Owl Carusel css file -->
    <link  th:href="@{/assets/plugins/owl-carousel/owl.carousel.min.css}" rel="stylesheet">

    <!-- Magnific-Popup css file -->
    <link  th:href="@{/assets/plugins/Magnific-Popup/magnific-popup.css}" rel="stylesheet">

    <!-- animate css file -->
    <link  th:href="@{/assets/plugins/animate-css/animate.min.css}" rel="stylesheet">

    <!-- swiper -->
    <link  th:href="@{/assets/plugins/swiper/swiper.min.css}" rel="stylesheet">

    <!--==== Style css file ====-->
    <link  th:href="@{/assets/css/style.css}" rel="stylesheet">

    <!--==== Responsive css file ====-->
    <link  th:href="@{/assets/css/responsive.css}" rel="stylesheet">

    <!--==== Custom css file ====-->
    <link  th:href="@{/assets/css/custom.css}" rel="stylesheet">
</head>
<body>
    <!-- Preloader -->
    <div class="preLoader" th:fragment="preLoader" >
        <div class="preloder-inner">
            <div class="sk-cube-grid">
                <div class="sk-cube sk-cube1"></div>
                <div class="sk-cube sk-cube2"></div>
                <div class="sk-cube sk-cube3"></div>
            </div>
        </div>
    </div>

    <!-- Main header -->
    <header class="header" th:fragment="html_header" >
        <div class="main-header-wraper main-header">
            <div class="container-fluid">
                <div class="row align-items-center">
                    <div class="col-6 col-sm-6 col-md-3 col-lg-2 col-xl-3">
                        <div class="logo-container">
                            <!-- Logo -->
                            <div class="logo">
                                <a th:href="@{/}">
                                    <img class='default-logo' th:src="@{${SITE_LOGO}}"  data-rjs="2" alt="ecommerce" >
                                    <img class='sticky-logo' th:src="@{${SITE_LOGO}}" data-rjs="2" alt="ecommerce" >
                                </a>
                            </div>
                            <!-- End of Logo -->
                        </div>
                    </div>

                    <div class="col-6 col-sm-6 col-md-6 col-lg-7 col-xl-6">
                        <!-- menu container -->
                        <div class="menu-container">
                            <div class="menu-wraper">
                                <nav>
                                    <!-- Header-menu -->
                                    <div class="header-menu dosis">
                                        <div id="menu-button">
                                        </div>
                                        <ul>
                                            <li ><a th:href="@{/}">Home</a>
                                            </li>
                                            <li>
                                                <a th:href="@{/shop}">Shop</a>
                                            </li>

                                            <li>
                                                <a href="#">Categories</a>
                                                <ul >
                                                    <th:block th:each="category : ${session.listNoChildrenCategories}">
                                                        <li >
                                                            <a th:href="@{'/categories/'+${category.alias}}" >[[${category.name}]]</a>
                                                        </li>
                                                    </th:block>
                                                </ul>
                                            </li>
                                            <li>
                                                <a href="#">Page</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <!-- End of Header-menu -->
                                </nav>
                            </div>
                        </div>
                    </div>

                    <div class="col-12 col-sm-12 col-md-3 top-order">
                        <div>
                            <form th:action="@{/logout}" method="post" th:hidden="true" name="logoutForm">
                                <input type="submit">
                            </form>
                        </div>
                        <div class="modal-menu-container">
                            <ul class="list-unstyled mb-0">
                                <li>
                                    <div class="search-btn" title="search">
                                        <a href="#">
                                            <img th:src="@{/assets/img/icons/search-button.svg}" alt="" class="svg">
                                        </a>
                                    </div>
                                </li>
                                <li >
                                    <div class="cart-btn" title="Cart list">
                                        <a th:href="@{/cart}">
                                            <img th:src="@{/assets/img/icons/add-bag.svg}" alt="" class="svg">
                                        </a>
                                    </div>
                                </li>
                                <li>
                                    <div class="dropdown" title="account list">
                                        <a  href="#" role="button" data-toggle="dropdown" aria-expanded="false">
                                            <img th:src="@{/assets/img/icons/account.svg}" alt="" class="svg">
                                        </a>
                                        <th:block sec:authorize="isAuthenticated()">
                                            <div class="dropdown-menu dropdown_setting">
                                                <a th:href="@{/account_details}" class="dropdown-item" sec:authentication="principal.fullName"></a>
                                                <a  id="logoutLink"  href="" class="dropdown-item" >Đăng xuất </a>
                                            </div>
                                        </th:block>
                                        <th:block sec:authorize="!isAuthenticated()">
                                            <div class="dropdown-menu dropdown_setting">
                                                <a th:href="@{/login}" class="dropdown-item">Đăng nhập</a>
                                                <a th:href="@{/register}" class="dropdown-item">Đăng ký</a>
                                            </div>
                                        </th:block>
                                    </div>
                                </li>

                                <li>
                                    <div class="menu-btn" title="Category menu">
                                        <a href="#">
                                            <img th:src="@{/assets/img/icons/manu-button.svg}" alt="" class="svg">
                                        </a>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <!-- End of modal menu -->
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Catagory menu -->
    <div class="slidenav catagory-menu" th:fragment="catagory-menu">
        <div class="menu-navigation">
            <div class="container-fluid">
                <div class="row">
                    <div class="col">
                        <div class="catagory-menu-header d-flex  align-items-center">
                            <div class="logo">
                                <a th:href="@{/}"><img class='default-logo' th:src="@{${SITE_LOGO}}" data-rjs="2" alt="ecommerce"></a>
                            </div>
                            <div class="menu-cancel">
                                <img  th:src="@{/assets/img/icons/close-button.svg}" class="svg" alt="">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-md-8 offset-md-2">
                        <div class="search-bar primary-form parsley-validate">
                            <form th:action="@{/search}"  method="get">
                                <input type="search"
                                       name="keyword"
                                       class="theme-input-style"
                                       placeholder="Type Your Search Here" required
                                       th:value="${searchKeyword}"
                                >
                                <input type="submit" class="search-icon" value="&#xF002;">
                            </form>
                        </div>
                    </div>
                </div>
                <div class="row justify-content-center">
                    <div class="col-lg-10 col-md-12 offset-lg-1">
                        <div class="catagory-menu-wrap">
                            <nav>
                                <ul class="list-unstyled">
                                    <li  th:each="category : ${session.listNoChildrenCategories}">
                                        <a th:href="@{'/categories/'+${category.alias}}" >[[${category.name}]]</a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <th:block th:fragment="offcanvas_menu">

        <!-- offcanvas overlay -->
        <div class="offcanvas-overlay"></div>

        <!-- offcanvas mainmenu -->
        <div class="offcanvas offcanvas-mainmenu">
            <div class="offcanvas-cancel">
                <img th:src="@{/assets/img/icons/close-button.svg}" class="svg" alt="">
            </div>
        </div>

    </th:block>

    <th:block th:fragment="page-titles">
        <section  class="page-title-inner" th:data-bg-img='@{/assets/img/page-titlebg.png}'>
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <!-- page title inner -->
                        <div class="page-title-wrap" >


                            <th:block th:if="${listCategoryParents != null and not #lists.isEmpty(listCategoryParents)}">
                                <ul class="list-unstyled mb-0"  >
                                    <li>
                                        <a th:href="@{/}">home</a>
                                    </li>
                                    <li ><a th:href="@{/shop}">Cửa hàng</a></li>
                                    <th:block th:each="parent :${listCategoryParents} ">
                                        <li class="">
                                            <a th:href="@{'/categories/' +${parent.alias}}">[[${parent.name}]]</a>
                                        </li>
                                    </th:block>
                                    <li class="" th:if="${product != null}">
                                        <span>[[${product.shortName}]]</span>
                                    </li>
                                </ul>
                            </th:block>

                        </div>
                        <!-- End of page title inner -->
                    </div>
                </div>
            </div>
        </section>
    </th:block>

    <!-- footer area -->
    <footer class="pattern footer-type1 pt-30" th:fragment="footer">
        <div class="footer-top">
            <div class="container">
                <div class="row">
                    <!-- footer widget -->
                    <div class="col-md-6 col-lg-4 col-sm-6">
                        <div class="footer-widget">
                            <div class="footer-logo">
                                <a th:href="@{/}"><img  th:src="@{${SITE_LOGO}}" alt="" style="max-width: 200px; height: auto"></a>
                            </div>
                            <div class="footer-about-text">
                                <p>These cases are perfectly simple and easy to distin guish. In a free hour, when our power of choice is untram melled and when nothing prevents our being able to be circumstances and owing claim.</p>
                            </div>
                        </div>
                    </div>

                    <!-- footer widget -->
                    <div class="col-md-6 col-lg-2 col-sm-6">
                        <div class="footer-widget">
                            <!-- footer Widget heading -->
                            <div class="footer-header">
                                <h5>About QT Sneaker</h5>
                            </div>
                            <!--End of footer Widget heading -->
                            <div class="footer-links">
                                <ul class="links-list list-unstyled mb-0">
                                    <li>
                                        <a href="#">About Our Company</a>
                                    </li>
                                    <li>
                                        <a href="#">License</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- End of footer widget -->

                    <!-- footer widget -->
                    <div class="col-md-6 col-lg-2 col-sm-6">
                        <div class="footer-widget">
                            <!-- footer Widget heading -->
                            <div class="footer-header">
                                <h5>Useful Links</h5>
                            </div>
                            <!--End of footer Widget heading -->
                            <div class="footer-links">
                                <ul class="links-list list-unstyled mb-0">
                                    <li>
                                        <a href="#">Top Sellers</a>
                                    </li>
                                    <li>
                                        <a href="#">Featured Items</a>
                                    </li>
                                    <li>
                                        <a href="#">Discount Shop</a>
                                    </li>
                                    <li>
                                        <a href="#">New Arrivals</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- End of footer widget -->

                    <!-- footer widget -->
                    <div class="col-md-6 col-lg-4 col-sm-6">
                        <div class="footer-widget">
                            <!-- footer Widget heading -->
                            <div class="footer-header">
                                <h5>Useful Links</h5>
                            </div>
                            <!--End of footer Widget heading -->
                            <div class="footer-contact-wrap">
                                <ul class="footer-contact-list list-unstyled mb-0">
                                    <li>
                                        <span><i class="fa fa-map-marker" aria-hidden="true"></i></span>
                                        1622 Colins Street West, Strawberry (Le), ITALY
                                    </li>
                                    <li>
                                        <span><i class="fa fa-envelope" aria-hidden="true"></i></span>
                                        <a href="info@emailname.com">Email: info@emailname.com</a>
                                    </li>
                                    <li>
                                        <span><i class="fa fa-phone" aria-hidden="true"></i></span>
                                        <a href="+006543219874">Phone: +00 654 321 9874</a>
                                    </li>
                                    <li>
                                        <span><i class="fa fa-clock-o" aria-hidden="true"></i></span>
                                        Monday - Saturday:9:00 - 18:00 pm
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- End of footer widget -->
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="footer-bottom-wrap">
                            <!-- copyright text -->
                            <div class="copyright-text">
                                <p>[[${COPYRIGHT}]]</p>
                            </div>
                            <!-- End of copyright text -->
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- JS-->
    <th:block th:fragment="script" >
        <!-- JS Files -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

        <!-- ==== Bootstrap js file==== -->
        <script th:src="@{/assets/js/bootstrap.bundle.min.js}"></script>

        <!-- ==== JQuery Waypoint js file==== -->
        <script  th:src="@{/assets/plugins/waypoints/jquery.waypoints.min.js}"></script>

        <!-- ==== Parsley js file==== -->
        <script  th:src="@{/assets/plugins/parsley/parsley.min.js}"></script>

        <!-- ==== Ratina js file==== -->
        <script  th:src="@{/assets/plugins/retinajs/retina.min.js}"></script>

        <!--===parallax js file===-->
        <script  th:src="@{/assets/plugins/parallax/parallax.js}"></script>

        <!--=== hori parallax js file===-->
        <script  th:src="@{/assets/plugins/parallax/parallaxh.min.js}"></script>

        <!-- ==== Owl Carousel js file==== -->
        <script  th:src="@{/assets/plugins/owl-carousel/owl.carousel.min.js}"></script>

        <!-- ====Magnific-Popup js file==== -->
        <script  th:src="@{/assets/plugins/Magnific-Popup/jquery.magnific-popup.min.js}"></script>

        <!-- ====Counter js file=== -->
        <script  th:src="@{/assets/plugins/waypoints/jquery.counterup.min.js}"></script>

        <!-- ====packery==== -->
        <script  th:src="@{/assets/plugins/isotope/packery.pkgd.min.js}"></script>

        <!-- ====swiper==== -->
        <script  th:src="@{/assets/plugins/swiper/swiper.min.js}"></script>

        <!-- ====Count down js==== -->
        <script  th:src="@{/assets/plugins/countdown/jquery.countdown.min.js}"></script>

        <!-- ====zoom js==== -->
        <script  th:src="@{/assets/plugins/Magnific-Popup/jquery.elevateZoom-3.0.8.min.js}"></script>

        <!-- ====tweenMax==== -->
        <script  th:src="@{/assets/plugins/tweenmax/TweenMax.min.js}"></script>

        <!-- ====text animation==== -->
        <script  th:src="@{/assets/plugins/text-animation/anime.min.js}"></script>

        <!-- ====google map api key====-->
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB2D8wrWMY3XZnuHO6C31uq90JiuaFzGws"></script>

        <!-- ==== Script js file==== -->
        <script  th:src="@{/assets/js/scripts.js}"></script>

        <!-- ==== Custom js file==== -->
        <script  th:src="@{/assets/js/custom.js}"></script>
        <script type="text/javascript">
            $(document).ready(function (){
                $("#logoutLink").on("click", function (e){
                    e.preventDefault();
                    document.logoutForm.submit();
                });
            });
        </script>
    </th:block>
</body>
</html>